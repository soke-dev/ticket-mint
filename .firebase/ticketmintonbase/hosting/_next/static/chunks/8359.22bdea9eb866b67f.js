"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8359],{8359:function(e,t,n){n.d(t,{upload:function(){return c}});var r=n(66350),i=n(49859),a=n(25520),o=n(39347);function l(e){return globalThis.File&&e instanceof File}function f(e){return!!(e&&(0,a.L)(e,["data","name"]))&&!!("string"==typeof e.name&&("string"==typeof e.data||(0,o.lq)(e.data)))}function u(e){return l(e)||(0,o.lq)(e)||f(e)}async function c(e){let t;if(0===e.files.length)return null;if(e.files.map(e=>u(e)||"string"==typeof e).every(e=>!!e))t=e.files;else{let n=e.files,r=function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(u(t))return n.push(t),n;if("object"==typeof t){if(!t)return n;if(Array.isArray(t))for(let r of t)e(r,n);else Object.keys(t).map(r=>e(t[r],n))}return n}(n=function e(t){return"string"==typeof t?function(e){if(e.includes("/ipfs/")){let t=e.split("/ipfs/")[1];return"ipfs://".concat(t)}return e}(t):"object"==typeof t?!t||u(t)?t:Array.isArray(t)?t.map(t=>e(t)):Object.fromEntries(Object.entries(t).map(t=>{let[n,r]=t;return[n,e(r)]})):t}(n));if(r.length){let t=await c({...e,files:r});n=function e(t,n){if(u(t)){if(n.length)return n.shift();console.warn("Not enough URIs to replace all files in object.")}return"object"==typeof t&&t?Array.isArray(t)?t.map(t=>e(t,n)):Object.fromEntries(Object.entries(t).map(t=>{let[r,i]=t;return[r,e(i,n)]})):t}(n,Array.isArray(t)?t:[t])}t=n.map(e=>"string"==typeof e?e:(0,i.P)(e))}let{fileNames:a,form:s}=function(e,t,n){let r=new Map,i=[];for(let a=0;a<t.length;a++){let u=t[a],c="",s=u;if(l(u)){if(null==n?void 0:n.rewriteFileNames){let e="";if(u.name){let t=u.name.lastIndexOf(".");t>-1&&(e=u.name.substring(t))}c="".concat(a+n.rewriteFileNames.fileStartNumber).concat(e)}else c="".concat(u.name)}else f(u)?(s=u.data,c=(null==n?void 0:n.rewriteFileNames)?"".concat(a+n.rewriteFileNames.fileStartNumber):"".concat(u.name)):c=(null==n?void 0:n.rewriteFileNames)?"".concat(a+n.rewriteFileNames.fileStartNumber):"".concat(a);let p=(null==n?void 0:n.uploadWithoutDirectory)?"files":"files/".concat(c);if(r.has(c)){if(function(e,t){if(l(e)&&l(t)){if(e.name===t.name&&e.lastModified===t.lastModified&&e.size===t.size)return!0}else if((0,o.lq)(e)&&(0,o.lq)(t))return(0,o.AY)(e,t);else if(f(e)&&f(t)&&e.name===t.name){if("string"==typeof e.data&&"string"==typeof t.data)return e.data===t.data;if((0,o.lq)(e.data)&&(0,o.lq)(t.data))return(0,o.AY)(e.data,t.data)}return!1}(r.get(c),u)){i.push(c);continue}throw Error("[DUPLICATE_FILE_NAME_ERROR] File name ".concat(c," was passed for more than one different file."))}r.set(c,u),i.push(c),e.append("file",new Blob([s]),p)}let a={name:"Storage SDK",keyvalues:{...null==n?void 0:n.metadata}};return e.append("pinataMetadata",JSON.stringify(a)),(null==n?void 0:n.uploadWithoutDirectory)&&e.append("pinataOptions",JSON.stringify({wrapWithDirectory:!1})),{form:e,fileNames:i.map(e=>encodeURIComponent(e))}}(new FormData,t,e),p=(0,r.t)();if("browser"===p||"node"===p){let{uploadBatch:t}=await n.e(33446).then(n.bind(n,33446)),r=await t(e.client,s,a,e);return 1===e.files.length?r[0]:r}throw Error("Please, use the uploadMobile function in mobile environments.")}},25520:function(e,t,n){n.d(t,{L:function(){return r}});function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"object"==typeof e&&null!==e&&t.every(t=>t in e)}},39347:function(e,t,n){n.d(t,{AY:function(){return o},Hv:function(){return u},KT:function(){return c},Vy:function(){return f},lq:function(){return a}});var r=n(69059);function i(e){if(!a(e))throw TypeError("Expected `Uint8Array`, got `".concat(typeof e,"`"))}function a(e){return!!e&&(e.constructor===Uint8Array||"[object Uint8Array]"===Object.prototype.toString.call(e))}function o(e,t){if(i(e),i(t),e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function l(e){if("string"!=typeof e)throw TypeError("Expected `string`, got `".concat(typeof e,"`"))}function f(e){var t;return l(e),i((l(e),t=Uint8Array.from(globalThis.atob(e.replaceAll("-","+").replaceAll("_","/")),e=>e.codePointAt(0)))),(0,r.h)().decode(t)}function u(e,t){if(0===e.length)return new Uint8Array(0);let n=null!=t?t:e.reduce((e,t)=>e+t.length,0),r=new Uint8Array(n),a=0;for(let t of e)i(t),r.set(t,a),a+=t.length;return r}function c(e,t){i(e),i(t);let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e[r]-t[r];if(0!==n)return Math.sign(n)}return Math.sign(e.length-t.length)}}}]);